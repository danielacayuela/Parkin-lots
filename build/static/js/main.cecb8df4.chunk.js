(this.webpackJsonpchallenge=this.webpackJsonpchallenge||[]).push([[0],{11:function(e,a,c){e.exports={card__container:"Card_card__container__3rU0n",card__title:"Card_card__title__3d02e",card__info:"Card_card__info__3HcOb",card__left:"Card_card__left__Suo91",card__image:"Card_card__image__2wMFZ",card__rigth:"Card_card__rigth__2Znqa",card__section:"Card_card__section__1W1IJ",card__button:"Card_card__button__1spp4"}},18:function(e,a,c){e.exports={home:"Home_home__30P3A",home__container:"Home_home__container__2fL3V",home__search:"Home_home__search__1aVb2"}},19:function(e,a,c){e.exports={navbar:"NavBar_navbar__18-NA",navbar__logo:"NavBar_navbar__logo__3k12N",navbar__right:"NavBar_navbar__right__2o01M",navbar__options:"NavBar_navbar__options__T49Ot"}},26:function(e,a,c){e.exports={display:"Display_display__6AdvV",display__cards:"Display_display__cards__WP_dD",display__pagination:"Display_display__pagination__QAevx"}},45:function(e,a,c){e.exports={searchbar:"Search_searchbar__zpBAv"}},60:function(e,a,c){},61:function(e,a,c){},91:function(e,a,c){"use strict";c.r(a);var t=c(44),n=c.n(t),s=c(1),r=c.n(s),i=c(22),o=c.n(i),l=(c(60),c(5)),d=(c.p,c(61),c(13)),_=c(45),j=c.n(_),u=c(2);var b=function(){var e=Object(l.f)(),a=Object(s.useState)(""),c=Object(d.a)(a,2),t=c[0],n=c[1];return Object(u.jsxs)("div",{className:j.a.searchbar,children:[Object(u.jsx)("input",{type:"search",placeholder:" Type your search ... ",value:t,onChange:function(e){return n(e.target.value)}}),Object(u.jsx)("button",{onClick:function(a){e.replace("/".concat(t))},children:"Search"})]})},h=c(18),v=c.n(h);var O=function(){return Object(u.jsx)("div",{className:v.a.home,children:Object(u.jsxs)("div",{className:v.a.home__container,children:[Object(u.jsx)("div",{className:v.a.home__welcome,children:Object(u.jsxs)("p",{children:[" ","Hi there! To find parking lots in the location you want, enter in the search bar the city, city code or address you want to search for. The closest results to your search criteria will be displayed, ordered by rating."," "]})}),Object(u.jsx)("div",{className:v.a.home__search,children:Object(u.jsx)(b,{})})]})})},p=c(14),x=c(19),m=c.n(x);var f=function(){return Object(u.jsxs)("div",{className:m.a.navbar,children:[Object(u.jsx)(p.b,{to:"/",children:Object(u.jsxs)("div",{className:m.a.navbar__logo,children:[Object(u.jsx)("img",{src:"https://www.iconpacks.net/icons/2/free-parking-sign-icon-2526-thumb.png",alt:""}),Object(u.jsx)("h1",{children:"PARKING LOT CHALLENGE"})]})}),Object(u.jsx)("div",{className:m.a.navbar__right,children:Object(u.jsx)("div",{className:m.a.navbar__options,children:Object(u.jsx)(p.b,{to:"/",children:Object(u.jsx)("span",{children:"Home"})})})})]})},g=c(15),N=c.n(g),y=c(23),w=c(16),k=c(31),S=c.n(k);function R(e){return function(){var a=Object(y.a)(N.a.mark((function a(c){var t,n,s,r,i;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:a.prev=0,t=[],n=0,s=1;case 4:if(!(s<5)){a.next=15;break}return console.log("ENTRE AL FOR"),a.next=8,S.a.get("".concat('/v3/businesses/search?term="parking"',"&location=").concat(e,"&offset=").concat(n,"&limit=50&sort_by=rating"));case 8:r=a.sent,i=r.data.businesses,t=t.concat(i),n+=50;case 12:s++,a.next=4;break;case 15:console.log("SALI DEL FOR"),t.length>0&&c({type:"GET_PARKINGS",payload:t}),a.next=22;break;case 19:a.prev=19,a.t0=a.catch(0),c({type:"NO_RESULTS",payload:!0});case 22:case"end":return a.stop()}}),a,null,[[0,19]])})));return function(e){return a.apply(this,arguments)}}()}S.a.interceptors.request.use((function(e){return e.headers.authorization="Bearer ".concat("OCLWs0cBv8MqPuoukQSinGPlcTxRhtbkqQiMtYFrd1-ATjn3_9Bij8IWki8xWamjivyJ77_ny0SHs09pcXVa7OTSjOKTF3c86pz1rT7x5be4jOt3wDNuMfvsDW3gYHYx"),e}),(function(e){return Promise.reject(e)}));var T=c(35),C=c(25);function E(e){switch(parseFloat(e)){case 0:case.1:case.2:return[0,0,0,0,0];case.3:case.4:case.5:case.6:case.7:return[50,0,0,0,0];case.8:case.9:case 1:case 1.1:case 1.2:return[100,0,0,0,0];case 1.3:case 1.4:case 1.5:case 1.6:case 1.7:return[100,50,0,0,0];case 1.8:case 1.9:case 2:case 2.1:case 2.2:return[100,100,0,0,0];case 2.3:case 2.4:case 2.5:case 2.6:case 2.7:return[100,100,50,0,0];case 2.8:case 2.9:case 3:case 3.1:case 3.2:return[100,100,100,0,0];case 3.3:case 3.4:case 3.5:case 3.6:case 3.7:return[100,100,100,50,0];case 3.8:case 3.9:case 4:case 4.1:case 4.2:return[100,100,100,100,0];case 4.3:case 4.4:case 4.5:case 4.6:case 4.7:return[100,100,100,100,50];case 4.8:case 4.9:case 5:return[100,100,100,100,100]}}var A=function(e){var a=e.value;return Object(u.jsx)("span",{children:E(a).map((function(e){return function(e){switch(e){case 0:return Object(u.jsx)(C.a,{});case 50:return Object(u.jsx)(C.c,{});case 100:return Object(u.jsx)(C.b,{})}}(e)}))})},D=c(11),L=c.n(D);var P=function(e){var a=e.parking;return Object(u.jsxs)("div",{className:L.a.card__container,children:[Object(u.jsx)("h1",{className:L.a.card__title,children:a.name}),Object(u.jsxs)("div",{className:L.a.card__info,children:[Object(u.jsx)("div",{className:L.a.card__left,children:Object(u.jsx)("div",{className:L.a.card__image,children:Object(u.jsx)("img",{src:(null===a||void 0===a?void 0:a.image_url)||"https://www.iconpacks.net/icons/2/free-parking-sign-icon-2526-thumb.png"})})}),Object(u.jsxs)("div",{className:L.a.card__rigth,children:[Object(u.jsxs)("div",{className:L.a.card__section,children:[Object(u.jsx)("strong",{children:"Adress:"}),Object(u.jsx)("small",{children:null===a||void 0===a?void 0:a.location.display_address.join(",")})]}),Object(u.jsxs)("div",{className:L.a.card__section,children:[Object(u.jsx)("strong",{children:"Rating:"}),Object(u.jsx)("small",{children:Object(u.jsx)(A,{value:null===a||void 0===a?void 0:a.rating})})]}),Object(u.jsxs)("div",{className:L.a.card__section,children:[Object(u.jsx)("strong",{children:"Reviews:"}),Object(u.jsx)("small",{children:a.review_count})]}),Object(u.jsxs)("div",{className:L.a.card__section,children:[Object(u.jsx)("strong",{children:" Score:"}),Object(u.jsx)("small",{children:Math.round((null===a||void 0===a?void 0:a.review_count)*(null===a||void 0===a?void 0:a.rating)/((null===a||void 0===a?void 0:a.review_count)+1)*100)/100})]}),Object(u.jsx)("div",{className:L.a.card__button,children:Object(u.jsx)("button",{children:Object(u.jsx)("a",{href:null===a||void 0===a?void 0:a.url,children:"Yelp"})})})]})]})]})},B=c(47);var F=function(){var e=Object(s.useState)(!0),a=Object(d.a)(e,2),c=a[0];return a[1],c&&Object(u.jsx)(B.a,{})},H=c(26),I=c.n(H);function M(e){var a=e.match.params.city,c=Object(w.b)(),t=Object(w.c)((function(e){return e.parkings})),n=Object(w.c)((function(e){return e.noResults}));console.log("PARKINGS>>>",t);var r=Object(s.useState)(0),i=Object(d.a)(r,2),o=i[0],l=i[1],_=Object(s.useState)(!1),j=Object(d.a)(_,2),b=j[0],h=j[1];return Object(s.useEffect)(Object(y.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,c(R(a));case 3:h(!1);case 4:case"end":return e.stop()}}),e)}))),[a]),Object(u.jsxs)("div",{className:I.a.display,children:[Object(u.jsx)("div",{className:I.a.display__cards,children:b?Object(u.jsx)(F,{}):(null===t||void 0===t?void 0:t.length)>0?t.sort((function(e,a){return e.rating-a.rating})).slice(20*o,20*o+20).map((function(e){return Object(u.jsx)(P,{parking:e},null===e||void 0===e?void 0:e.id)})):n?Object(u.jsx)("h4",{children:"Sorry, no parking lots were found"}):Object(u.jsx)(F,{})}),b?"":Object(u.jsxs)("div",{className:I.a.display__pagination,children:[Object(u.jsx)("button",{value:"prev",onClick:function(e){e.preventDefault(),o>0&&l(o-1)},children:Object(u.jsx)(T.b,{})}),Object(u.jsx)("button",{children:o+1}),Object(u.jsx)("button",{value:"next",onClick:function(e){e.preventDefault();var a=Math.ceil((null===t||void 0===t?void 0:t.length)/20-1);a<0&&(a=1),o<a&&l(o+1)},children:Object(u.jsx)(T.a,{})})]})]})}var G=function(){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(f,{}),Object(u.jsxs)(l.c,{children:[Object(u.jsx)(l.a,{exact:!0,path:"/",component:O}),Object(u.jsx)(l.a,{path:"/:city",component:M})]})]})},W=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,92)).then((function(a){var c=a.getCLS,t=a.getFID,n=a.getFCP,s=a.getLCP,r=a.getTTFB;c(e),t(e),n(e),s(e),r(e)}))},K=c(24),U=c(20),q={parkings:[],noResults:!1};var J=c(50),V=c(51),Y=Object(K.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_PARKINGS":return console.log("ENTRE REDUCER"),Object(U.a)(Object(U.a)({},e),{},{parkings:a.payload,noResults:!1});case"NO_RESULTS":return console.log("ENTRE REDUCER"),Object(U.a)(Object(U.a)({},e),{},{noResults:a.payload});default:return e}}),Object(V.composeWithDevTools)(Object(K.applyMiddleware)(J.a)));n.a.config(),o.a.render(Object(u.jsx)(w.a,{store:Y,children:Object(u.jsx)(p.a,{children:Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(G,{})})})}),document.getElementById("root")),W()}},[[91,1,2]]]);
//# sourceMappingURL=main.cecb8df4.chunk.js.map